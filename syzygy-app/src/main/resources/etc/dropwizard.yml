# http://dropwizard.github.io/dropwizard/manual/configuration.html
# gaiaURL: http://v3local.osl2.api.kunder.linpro.no/gaia
# gaiaURL: http://localhost:9050/gaia

server:
  requestLog:
    appenders:
      - type: file
        # A custom Logback format string.
        logFormat: null
        currentLogFilename: /var/log/app/syzygy/request.logz
        archive: true
        archivedLogFilenamePattern: /var/log/app/syzygy/request-%d.log.gz
        archivedFileCount: 5

  applicationConnectors:
    - type: http
      port: 9087
  adminConnectors:
    - type: http
      port: 19087

logging:
  level: INFO
  loggers:
    no: INFO
    no.api.syzygy: DEBUG
    no.api.pantheon.web.filter.HttpTraceFilter: ERROR
  appenders:
    - type: console
      logFormat: '%d [%-5p] [%10.10t][%X{app}][%c][%M][%L] - %m%n'
    - type: file
      logFormat: '%d [%-5p] [%10.10t][%X{app}][%c][%M][%L] - %m%n'
      currentLogFilename: /var/log/app/syzygy/syzygy.logz
      archive: true
      archivedLogFilenamePattern: /var/log/app/syzygy/syzygy-%d.log.gz
      archivedFileCount: 5

syzygyHeaderConfig:
  appName: 'syzygy'
  fallbackMaxAge: 200
  fallbackChannelMaxAge: 86400
  poisonAndTruncatedMaxAge: 30
  poisonAndTruncatedChannelMaxAge: 300
  maxCacheChannelFieldLength: 2048
  channel: ''

jsonLogPath: /var/log/app/syzygy/jsonevent.logg
